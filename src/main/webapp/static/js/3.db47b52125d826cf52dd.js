webpackJsonp([3],{"6/UO":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("headerA"),t._v(" "),a("div",{staticClass:"qiangdian-main"},[a("div",{staticClass:"fl qd-left"},[t._m(0),t._v(" "),a("div",{staticStyle:{height:"2%"}}),t._v(" "),a("div",{staticStyle:{width:"100%",height:"88%",position:"relative"}},[a("ul",{staticClass:"qd_ul"},[a("li",[a("router-link",{attrs:{to:"/dianti/diantiOne"},nativeOn:{click:function(e){return t.reload(e)}}},[t._v("电梯")])],1)])])]),t._v(" "),t.isRouterAlive?a("router-view",{staticClass:"fl qd-center"}):t._e()],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{width:"100%",height:"10%","font-size":"20px",color:"white"}},[e("span",{staticClass:"glyphicon glyphicon-hdd",staticStyle:{"margin-top":"7%","margin-left":"10%","margin-right":"10px",color:"white"}}),this._v("电梯\n\t\t\t")])}]};var r=a("VU/8")({data:function(){return{isRouterAlive:!0}},methods:{reload:function(){var t=this;this.isRouterAlive=!1,this.$nextTick(function(){return t.isRouterAlive=!0})}}},i,!1,function(t){a("sUGs")},"data-v-68447470",null);e.default=r.exports},"6u7i":function(t,e,a){"use strict";(function(t){var i=a("XLwt"),r=a.n(i);parseInt((new Date).getTime()/1e3);e.a={data:function(){return{healthData:[],runNumberData:[],jiaSpeedData:[],speedData:[],elevatorAngleData:[],abnormal:[],alarm:[],repair:[],traffic:[],traj:[],a:[],b:[],c:[],veloc:[],jiaAccs:[],elevatorTimeData:[],runNumberTimeData:[],revStopNum:[],revStopTime:[]}},created:function(){},mounted:function(){this.healthClick(),this.runNumberClick(),this.jiaSpeedClick(),this.speedClick(),this.elevatorAngleClick(),this.revStopClick()},methods:{GetQueryString:function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),a=window.location.search.substr(1).match(e);return null!=a?unescape(a[2]):null},formats:function(t){var e=new Date;e.setTime(t);var a=e.getFullYear(),i=e.getMonth()+1;i=i<10?"0"+i:i;var r=e.getDate();r=r<10?"0"+r:r;var s=e.getHours();s=s<10?"0"+s:s;var n=e.getMinutes();n=n<10?"0"+n:n;var l=e.getSeconds();return l=l<10?"0"+l:l,a+"-"+i+"-"+r+"  "+s+":"+n},revStopClick:function(){var e=this;t.ajax({type:"get",url:e.api+"elevator/runNumber/7001",async:!0,success:function(t){for(var a=[],i=[],s=0;s<t.records.length;s++)a.push(t.records[s].num),i.push(t.records[s].startTime);for(var n,l,o=a,c=0,u=[],d=0;d<i.length;d++)l=(n=new Date(i[d])).getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate()+" "+n.getHours()+":"+n.getMinutes()+":"+n.getSeconds(),u.push(l.split(" ")[1]);e.ravStop=r.a.init(e.$refs.ravStop);var h={tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#333"}}},legend:{x:"right",data:["累计次数","统计间隔5分钟"],textStyle:{color:"white"}},toolbox:{show:!1,feature:{dataView:{readOnly:!1},restore:{},saveAsImage:{}}},dataZoom:{show:!1,start:0,end:100},grid:{top:80,bottom:40},xAxis:[{type:"category",boundaryGap:!0,data:u,axisLabel:{textStyle:{color:"white"}}}],yAxis:[{type:"value",scale:!0,name:"单位次数",min:0,boundaryGap:[.2,.2],axisLabel:{textStyle:{color:"white"}}},{type:"value",scale:!0,name:"累计次数",min:0,boundaryGap:[.2,.2],axisLabel:{textStyle:{color:"white"}}}],series:[{name:"统计间隔5分钟",type:"bar",itemStyle:{normal:{lineStyle:{width:3}}},data:a},{name:"累计次数",type:"line",itemStyle:{normal:{color:"#ffb980"}},yAxisIndex:1,data:o.map(function(t){return c+=t})}]};e.ravStop.setOption(h)}})},elevatorAngleClick:function(){var e=this;t.ajax({type:"get",url:e.api+"elevator/angular/7001",async:!0,success:function(t){var a=t.records;e.a=a[0].x,e.b=a[0].y,e.c=a[0].z;for(var i,s=a[0].startTime,n=[],l=0;l<e.a.length;l++)n.push(s);for(var o=0;o<n.length;o++){var c=(i=new Date(n[o])).getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate()+" "+i.getHours()+":"+i.getMinutes()+":"+i.getSeconds();e.elevatorTimeData.push(c)}e.xyzLineEchart=r.a.init(e.$refs.xyzLine),e.xyzLineEchart.setOption({tooltip:{trigger:"axis"},legend:{data:["x","y","z"],textStyle:{fontSize:18,color:"white"}},grid:{top:"12%",left:"10%",right:"4%",bottom:"20%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:e.elevatorTimeData,axisLabel:{show:!0,textStyle:{color:"white"}}},yAxis:{type:"value",axisLabel:{show:!0,textStyle:{color:"white"}}},dataZoom:[{type:"inside",start:80,end:100},{start:80,end:100,handleIcon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z",handleSize:"80%",handleStyle:{color:"#fff",shadowBlur:3,shadowColor:"rgba(0, 0, 0, 0.6)",shadowOffsetX:2,shadowOffsetY:2}}],series:[{name:"x",type:"line",stack:"总量",data:e.a,itemStyle:{normal:{lineStyle:{width:3}}}},{name:"y",type:"line",stack:"总量",data:e.b,itemStyle:{normal:{lineStyle:{width:3}}}},{name:"z",type:"line",stack:"总量",data:e.c,itemStyle:{normal:{lineStyle:{width:3}}}}]})}})},runNumberClick:function(){var e=this;e.runNumberEchart=r.a.init(e.$refs.runNumberEchart);var a={baseOption:{timeline:{axisType:"category",autoPlay:!0,playInterval:2e3,checkpointStyle:{color:["#a0a7e6"]},data:[]},tooltip:{},legend:{x:"right",data:["负载次数"]},calculable:!0,grid:{top:10,right:10,bottom:80,tooltip:{trigger:"axis",axisPointer:{type:"shadow",label:{show:!0,formatter:function(t){return t.value.replace("\n","")}}}}},xAxis:[{type:"category",boundaryGap:!0,data:[]}],yAxis:[{type:"value",scale:!0,name:"次数",boundaryGap:[0,0],min:0,axisLabel:{textStyle:{color:"white"}}}],series:[{name:"运行层数",type:"bar",itemStyle:{normal:{color:"#a0a7e6"}}}]},options:[]};t.ajax({type:"get",url:e.api+"elevator/load/7001",async:!0,success:function(t){e.runNumberData=t.records,console.log(t.records,"运行层数");for(var i,r,s,n,l,o,c,u,d,h,m,p,v,y,g,f,b,S,x,w,_=[],D=0;D<e.runNumberData.length;D++)i=e.runNumberData[D].traj.t1,r=e.runNumberData[D].traj.t2,s=e.runNumberData[D].traj.t3,n=e.runNumberData[D].traj.t4,l=e.runNumberData[D].traj.t5,o=e.runNumberData[D].traj.t6,c=e.runNumberData[D].traj.t7,u=e.runNumberData[D].traj.t8,d=e.runNumberData[D].traj.t9,h=e.runNumberData[D].traj.t-1,m=e.runNumberData[D].traj.t-2,p=e.runNumberData[D].traj.t-3,v=e.runNumberData[D].traj.t-4,y=e.runNumberData[D].traj.t-5,g=e.runNumberData[D].traj.t-6,f=e.runNumberData[D].traj.t-7,b=e.runNumberData[D].traj.t-8,S=e.runNumberData[D].traj.t-9,_.push(e.runNumberData[D].startTime),a.options.push({xAxis:[{data:["下4层","上9层","上5层","下6层","下7层","下8层","下9层","上2层","上1层","上4层","上3层","上6层","上5层","下1层","上8层","下2层","下3层","上8层"],axisLabel:{show:!0,textStyle:{color:"white"}}}],series:[{name:"层数",type:"bar",data:[i,r,s,n,l,o,c,u,d,h,m,p,v,y,g,f,b,S],itemStyle:{normal:{lineStyle:{width:3}}}}]});for(var C=[],j=0;j<_.length;j++)w=(x=new Date(_[j])).getFullYear()+"-"+(x.getMonth()+1)+"-"+x.getDate()+" "+x.getHours()+":"+x.getMinutes()+":"+x.getSeconds(),C.push(w.split(" ")[1]);a.baseOption.timeline.data=C,e.runNumberEchart.setOption(a)}})},jiaSpeedClick:function(){var e=this;e.jiaSpeed=r.a.init(e.$refs.jiaSpeed);var a={baseOption:{timeline:{axisType:"category",autoPlay:!0,playInterval:5e3,data:[]},tooltip:{},legend:{x:"right",data:["最小加速度","实际加速度","最大加速度"],textStyle:{color:"white"}},calculable:!0,grid:{show:!0,top:50,bottom:80,tooltip:{trigger:"axis",axisPointer:{type:"shadow",label:{show:!1,formatter:function(t){return"第"+t.value.replace("\n","")+"秒"}}}}},xAxis:[{type:"category",boundaryGap:!1,data:[],axisLabel:{textStyle:{color:"white"}}}],yAxis:[{type:"value",scale:!0,name:"加速度值",boundaryGap:[.01,.01],splitNumber:10,axisLabel:{textStyle:{color:"white"}}}],series:[{name:"最小加速度",type:"line",itemStyle:{normal:{lineStyle:{width:3}}}},{name:"实际加速度",type:"line"},{name:"最大加速度",type:"line",itemStyle:{normal:{lineStyle:{width:3}}}}]},options:[]};t.ajax({type:"get",url:e.api+"elevator/acc/7001",async:!0,success:function(t){e.jiaSpeedData=t.records;for(var i,r,s=[],n=0;n<e.jiaSpeedData.length;n++)s.push(e.jiaSpeedData[n].startTime),a.options.push({xAxis:[{axisLabel:{textStyle:{color:"white"}},data:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23]}],series:[{name:"速度",type:"line",data:e.jiaSpeedData[n].accs,itemStyle:{normal:{color:"#2ec7c9",width:15}}}]});for(var l=[],o=0;o<s.length;o++)r=(i=new Date(s[o])).getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate()+" "+i.getHours()+":"+i.getMinutes()+":"+i.getSeconds(),l.push(r.split(" ")[1]);a.baseOption.timeline.data=l,e.jiaSpeed.setOption(a)}})},speedClick:function(){var e=this;e.speed=r.a.init(e.$refs.speed);var a={baseOption:{timeline:{axisType:"category",autoPlay:!0,playInterval:2e3,checkpointStyle:{color:["#a0a7e6"]},data:[]},tooltip:{},legend:{x:"right",data:["负载次数"]},calculable:!0,grid:{top:30,bottom:80,tooltip:{trigger:"axis",axisPointer:{type:"shadow",label:{show:!0,formatter:function(t){return t.value.replace("\n","")}}}}},xAxis:[{type:"category",boundaryGap:!0,data:[],axisLabel:{textStyle:{color:"white"}}}],yAxis:[{type:"value",scale:!0,name:"次数",axisLabel:{textStyle:{color:"white"}}}],series:[{name:"运行速度",type:"bar",itemStyle:{normal:{lineStyle:{width:3}}}}]},options:[]};t.ajax({type:"get",url:e.api+"elevator/speed/7001",async:!0,success:function(t){e.speedData=t.records;for(var i,r,s=[],n=[],l=0;l<e.speedData.length;l++)s.push(e.speedData[l].label),n.push(e.speedData[l].startTime),a.options.push({axisLabel:{textStyle:{color:"white"}},xAxis:[{data:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]}],series:[{name:"运行速度",type:"line",data:e.speedData[l].veloc,itemStyle:{normal:{lineStyle:{width:3}}}}]});for(var o=[],c=0;c<n.length;c++)r=(i=new Date(n[c])).getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate()+" "+i.getHours()+":"+i.getMinutes()+":"+i.getSeconds(),o.push(r.split(" ")[1]);a.baseOption.timeline.data=o,e.speed.setOption(a)}})},healthClick:function(){var e=this;e.echartHealthBar=r.a.init(e.$refs.healthBar);var a={title:{subtext:"",x:"left",top:0,left:30,textStyle:{fontSize:16,fontStyle:"normal",fontWeight:"bold"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c}%"},legend:{orient:"vertical",x:"right",data:["运行次数正常率","运行层数正常率","运动异常正常率","运行维保正常率","运行报警正常率","运行次数错误率","运行层数错误率","运动异常错误率","运行维保错误率","运行报警错误率"],padding:20,show:!1},calculable:!0,series:[{name:"数据来源",type:"pie",selectedMode:"single",center:["130","130"],radius:[0,"35%"],color:["#5AC59E","#96DCC3","#1A8FC5","#56AFD8","#9ACFE8"],label:{normal:{position:"inner",formatter:"{b}\n  {c}%",textStyle:{fontWeight:"normal",fontSize:12}}},labelLine:{normal:{show:!1}},data:[]},{name:"数据来源",type:"pie",radius:["45%","55%"],center:["130","130"],color:["#5AC59E","#FFB980","#96DCC3","#FFB980","#1A8FC5","#FFB980","#56AFD8","#FFB980","#9ACFE8","#FFB980"],label:{normal:{formatter:"{b}\n  {c}%",textStyle:{fontWeight:"normal",fontSize:12}}},data:[]}]},i=e.GetQueryString("sn");e.GetQueryString("st")?e.GetQueryString("st"):parseInt((new Date).getTime()/1e3),e.GetQueryString("et")&&e.GetQueryString("et"),t.ajax({type:"get",url:e.api+"elevator/healthscore/7001",async:!0,success:function(r){var s=0,n=0,l=r.records[0],o=r.records,c=[],u=[],d=[];if(t.each(o,function(t,a){var i=e.formats(a.recordtime);c.push(i);var r=.3*Number(a.abnormal.score)+.3*Number(a.alarm.score)+.2*Number(a.repair.score)+.1*Number(a.traffic.score)+.1*Number(a.traj.score);r<200||r>100?n++:s++,u.push(r)}),0==n?d.push({value:s,name:"异常"}):0==s?d.push({value:n,name:"正常"}):d.push({value:s,name:"异常"},{value:n,name:"正常"}),a.series[0].data=d,a.series[0].data=[],a.series[1].data=[],a.title.subtext=i,0!=r.length){o=r[0];a.series[0].data.push({value:30,name:"次数"},{value:30,name:"层数"},{value:10,name:"晃动"},{value:10,name:"维保"},{value:20,name:"报警"}),a.series[1].data.push({value:100*(l.traffic.score/100).toFixed(2),name:"次数正常"},{value:100*(1-l.traffic.score/100).toFixed(2),name:"次数异常"},{value:100*(l.traj.score/100).toFixed(2),name:"层数正常"},{value:100*(1-l.traj.score/100).toFixed(2),name:"层数异常"},{value:100*(l.abnormal.score/100).toFixed(2),name:"晃动正常"},{value:100*(1-l.abnormal.score/100).toFixed(2),name:"晃动异常"},{value:100*(l.repair.score/100).toFixed(2),name:"维保正常"},{value:100*(1-l.repair.score/100).toFixed(2),name:"维保异常"},{value:100*(l.alarm.score/100).toFixed(2),name:"报警正常"},{value:100*(1-l.alarm.score/100).toFixed(2),name:"报警异常"})}else a.legend.data=["暂无数据"],a.series[0].data.push({value:0,name:"暂无数据"}),a.series[1].data.push({value:0,name:"暂无数据"});e.echartHealthBar.setOption(a)}})}}}}).call(e,a("7t+N"))},"7KRk":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("6u7i"),r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"fl qd-center"},[a("div",{staticClass:"dianti_top",staticStyle:{overflow:"hidden"}},[a("div",{staticClass:"dianti_leftOne",staticStyle:{overflow:"hidden"}},[t._m(0),t._v(" "),a("div",{staticClass:"dianti_div",staticStyle:{background:"#112339"}},[a("div",{ref:"ravStop",staticStyle:{width:"100%",height:"100%"},attrs:{id:"ravStop"}})])]),t._v(" "),a("div",{staticClass:"dianti_leftTwo",staticStyle:{overflow:"hidden"}},[t._m(1),t._v(" "),a("div",{staticClass:"dianti_div",staticStyle:{background:"#112339"}},[a("div",{ref:"runNumberEchart",staticStyle:{width:"100%",height:"100%"},attrs:{id:"runNumberEchart"}})])])]),t._v(" "),a("div",{staticClass:"dianti_bottom"},[a("div",{staticClass:"dianti_bottomOne",staticStyle:{"margin-right":".5%"}},[t._m(2),t._v(" "),a("div",{staticClass:"dianti_div",staticStyle:{background:"#112339"}},[a("div",{ref:"healthBar",staticStyle:{width:"100%",height:"100%"},attrs:{id:"healthBar"}})])]),t._v(" "),a("div",{staticClass:"dianti_bottomOne",staticStyle:{"margin-left":".5%"}},[t._m(3),t._v(" "),a("div",{staticClass:"dianti_div",staticStyle:{background:"#112339"}},[a("div",{ref:"jiaSpeed",staticStyle:{width:"100%",height:"100%"},attrs:{id:"jiaSpeed"}})])]),t._v(" "),a("div",{staticClass:"dianti_bottomOne",staticStyle:{"margin-left":".5%",width:"25%"}},[t._m(4),t._v(" "),a("div",{staticClass:"dianti_div",staticStyle:{background:"#112339"}},[a("div",{ref:"speed",staticStyle:{width:"100%",height:"100%"},attrs:{id:"speed"}})])]),t._v(" "),a("div",{staticClass:"dianti_bottomOne",staticStyle:{"margin-left":".5%",width:"25%"}},[t._m(5),t._v(" "),a("div",{staticClass:"dianti_div",staticStyle:{background:"#112339"}},[a("div",{ref:"xyzLine",staticStyle:{width:"100%",height:"100%"},attrs:{id:"xyzLine"}})])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"box-title"},[e("h5",{staticStyle:{margin:"0"}},[this._v("运行启停次数")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"box-title"},[e("h5",{staticStyle:{margin:"0"}},[this._v("运行层数")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"box-title"},[e("h5",{staticStyle:{margin:"0"}},[this._v("健康评分")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"box-title"},[e("h5",{staticStyle:{margin:"0"}},[this._v("加速度")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"box-title"},[e("h5",{staticStyle:{margin:"0"}},[this._v("电梯运行速度")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"box-title"},[e("h5",{staticStyle:{margin:"0"}},[this._v("电梯角速度")])])}]};var s=function(t){a("rb8S"),a("ueA/")},n=a("VU/8")(i.a,r,!1,s,"data-v-342cbd5e",null);e.default=n.exports},rb8S:function(t,e){},sUGs:function(t,e){},"ueA/":function(t,e){}});